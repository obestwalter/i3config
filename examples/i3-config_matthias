# This configuration uses Mod1 and Mod3. Make sure they are mapped properly using xev(1)
# and xmodmap(1). Usually, Mod1 is Alt (Alt_L) and Mod3 is Windows (Super_L)

force_xinerama yes

# ISO 10646 = Unicode
#font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
#set $fonttype "-xos4-terminus-medium-r-normal--12-120-72-72-c-60-iso10646-1"
set $fonttype -xos4-terminus-medium-r-normal--12-120-72-72-c-60-*
#set $fonttype "xft:Terminus 12"
font $fonttype

set $brightred  #ff4400
set $lightred  #ff4400
set $darkred    #5c1800
set $lightblue  #13e6f3
set $midblue    #00767e
set $darkblue   #030a82
set $black      #000000
set $white      #ffffff
set $grey2      #222222
set $grey3      #333333
set $grey8      #888888

# set colors
# name                      border      back        text    indicator
client.focused_inactive     $grey3      $darkblue   $white  $darkblue
client.focused              $midblue    $lightblue  $black  $midblue
client.unfocused            $grey3      $grey2      $grey8  $grey2
client.urgent               $darkred    $lightred   $white  $lightred
# default colors
#client.focused           "4c7899" "285577" "ffffff"
#client.focused_inactive  "333333" "5f676a" "ffffff"
#client.unfocused         "333333" "222222" "888888"
#client.urgent            "2f343a" "900000" "ffffff"
#bar.focused              "4c7899" "285577" "ffffff"
#bar.unfocused            "333333" "222222" "888888"
#bar.urgent               "2f343a" "900000" "ffffff"

# Use Mouse+Mod4 to drag floating windows to their wanted position
floating_modifier Mod4

# default mode
workspace_layout stacking

#default orientation
default_orientation vertical

#automatic workspace back and forth
workspace_auto_back_and_forth yes


### KEYBOARD COMMANDS ###

#split
bindcode Mod4+25 split horizontal
bindcode Mod4+30 split vertical

# Fullscreen (Mod4+o)
bindcode Mod4+32 fullscreen

# Global Fullscreen (Mod4+Shift+o)
bindcode Mod4+Shift+32 fullscreen global

# Stacking (Mod4+,, Mod4+g)
bindcode Mod4+59 layout stacking

# Tabbed (Mod4+-, Mod4+t)
bindcode Mod4+61 layout tabbed
#bindcode Mod4+29 layout tabbed

# Default (Mod4+:, Mod4+b)
bindcode Mod4+60 layout toggle split

# Toggle tiling/floating of the current window (Mod4+Shift+Space)
bindcode Mod4+Shift+65 floating toggle

# Go into the tiling layer / floating layer, depending on whether
# the current window is tiling / floating (Mod4+Space)
bindcode Mod4+65 focus mode_toggle

# Hide all floating Windows
# XXX: migration script could not handle command: bind Mod4+Control+65 H

bindcode Mod4+38 [urgent="latest"] focus
bindcode Mod4+Shift+38 [urgent="oldest"] focus

# Focus child (Mod4+h), Focus parent (Mod4+z)
bindcode Mod4+33 focus parent
bindcode Mod4+47 focus child

# Focus (Mod4+g/n/r/t)
bindcode Mod4+31 focus up
bindcode Mod4+44 focus left
bindcode Mod4+45 focus down
bindcode Mod4+46 focus right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Up focus up
bindsym Mod4+Left focus left
bindsym Mod4+Down focus down
bindsym Mod4+Right focus right

# Focus Container (Mod4+Mod1+g/n/r/t)
bindcode Mod4+Mod1+31 focus parent; focus up
bindcode Mod4+Mod1+44 focus parent; focus left
bindcode Mod4+Mod1+45 focus parent; focus down
bindcode Mod4+Mod1+46 focus parent; focus right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Mod1+Up focus parent; focus up
bindsym Mod4+Mod1+Left focus parent; focus left
bindsym Mod4+Mod1+Down focus parent; focus down
bindsym Mod4+Mod1+Right focus parent; focus right

# move to left or right output (Mod4+Control+n/t)
bindcode Mod4+Control+44 move output left
bindcode Mod4+Control+46 move output right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Control+Left move output left
bindsym Mod4+Control+Right move output right

# Move (Mod4+Shift+g/n/r/t)
bindcode Mod4+Shift+31 move up
bindcode Mod4+Shift+44 move left
bindcode Mod4+Shift+45 move down
bindcode Mod4+Shift+46 move right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Shift+Up move up
bindsym Mod4+Shift+Left move left
bindsym Mod4+Shift+Down move down
bindsym Mod4+Shift+Right move right

# Move Container (Mod4+Mod1+Shift+g/n/r/t)
bindcode Mod5+Mod1+Shift+31 focus parent; move up; focus child
bindcode Mod4+Mod1+Shift+44 focus parent; move left; focus child
bindcode Mod4+Mod1+Shift+45 focus parent; move down; focus child
bindcode Mod4+Mod1+Shift+46 focus parent; move right; focus child
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Mod1+Shift+Up focus parent; move up; focus child
bindsym Mod4+Mod1+Shift+Left focus parent; move left; focus child
bindsym Mod4+Mod1+Shift+Down focus parent; move down; focus child
bindsym Mod4+Mod1+Shift+Right focus parent; move right; focus child

# Workspaces (Mod4+1/2/…)
bindcode Mod4+10 workspace 1: INet
bindcode Mod4+11 workspace 2: Mail
bindcode Mod4+12 workspace 3: Chat
bindcode Mod4+13 workspace 4: Term
bindcode Mod4+14 workspace 5
bindcode Mod4+15 workspace 6
bindcode Mod4+16 workspace 7: Edit
bindcode Mod4+17 workspace 8: Dev
bindcode Mod4+18 workspace 9: Sys
bindcode Mod4+19 workspace 10: Term
bindcode Mod4+20 workspace 21
bindcode Mod4+21 workspace 22
bindcode Mod4+Control+10 workspace 11
bindcode Mod4+Control+11 workspace 12: Virt
bindcode Mod4+Control+12 workspace 13
bindcode Mod4+Control+13 workspace 14
bindcode Mod4+Control+14 workspace 15
bindcode Mod4+Control+15 workspace 16
bindcode Mod4+Control+16 workspace 17
bindcode Mod4+Control+17 workspace 18
bindcode Mod4+Control+18 workspace 19
bindcode Mod4+Control+19 workspace 20
bindcode Mod4+Control+20 workspace 23
bindcode Mod4+Control+21 workspace 24
bindcode Mod4+Mod1+20 workspace " "
bindcode Mod4+Mod1+21 workspace "  "

bindcode Mod4+Mod1+11 workspace "32: Dev2"
bindcode Mod4+Mod1+17 workspace "8: Dev"; workspace"32: Dev2"

# Toggle workspaces (Mod4+Tab)
bindcode Mod4+23 workspace back_and_forth
# Toggle outputs (Mod4+^)
bindcode Mod4+49 focus output left

# Cycle through workspaces (Mod4+Control+Tab, Mod4+Shift+Tab)
bindcode Mod4+Control+23 workspace next
bindcode Mod4+Shift+23 workspace prev

# Move to Workspaces
bindcode Mod4+Shift+10 move workspace 1: INet
bindcode Mod4+Shift+11 move workspace 2: Mail
bindcode Mod4+Shift+12 move workspace 3: Chat
bindcode Mod4+Shift+13 move workspace 4: Term
bindcode Mod4+Shift+14 move workspace 5
bindcode Mod4+Shift+15 move workspace 6
bindcode Mod4+Shift+16 move workspace 7: Edit
bindcode Mod4+Shift+17 move workspace 8: Dev
bindcode Mod4+Shift+18 move workspace 9: Sys
bindcode Mod4+Shift+19 move workspace 10: Term
bindcode Mod4+Shift+20 move workspace 21
bindcode Mod4+Shift+21 move workspace 22
bindcode Mod4+Control+Shift+10 move workspace 11
bindcode Mod4+Control+Shift+11 move workspace 12
bindcode Mod4+Control+Shift+12 move workspace 13
bindcode Mod4+Control+Shift+13 move workspace 14
bindcode Mod4+Control+Shift+14 move workspace 15
bindcode Mod4+Control+Shift+15 move workspace 16
bindcode Mod4+Control+Shift+16 move workspace 17
bindcode Mod4+Control+Shift+17 move workspace 18
bindcode Mod4+Control+Shift+18 move workspace 19
bindcode Mod4+Control+Shift+19 move workspace 20
bindcode Mod4+Control+Shift+20 move workspace 23
bindcode Mod4+Control+Shift+21 move workspace 24
bindcode Mod4+Mod1+Shift+20 move workspace " "
bindcode Mod4+Mod1+Shift+21 move workspace "  "

bindcode Mod4+Mod1+Shift+11 move workspace "32: Dev2"

#Scratchpad create and show
bindcode Mod4+Shift+52 move scratchpad
bindcode Mod4+52 scratchpad show

## Move container to Workspaces
#mode "wcm" {
#    bind 10 wcm1
#    bind 11 wcm2
#    bind 12 wcm3
#    bind 13 wcm4
#    bind 14 wcm5
#    bind 15 wcm6
#    bind 16 wcm7
#    bind 17 wcm8
#    bind 18 wcm9
#    bind 19 wcm10
#    bind Control+10 wcm11
#    bind Control+11 wcm12
#    bind Control+12 wcm13
#    bind Control+13 wcm14
#    bind Control+14 wcm15
#    bind Control+15 wcm16
#    bind Control+16 wcm17
#    bind Control+17 wcm18
#    bind Control+18 wcm19
#    bind Control+19 wcm20
#    bind 9 mode default
#    bind 58 mode default
#}
#bind Mod4+58 mode wcm

# Mode for resizing clients
mode "resize" {
    # These bindings trigger as soon as you enter the resize mode

    # Pressing left will shrink the window’s width.
    # Pressing right will grow the window’s width.
    # Pressing up will shrink the window’s height.
    # Pressing down will grow the window’s height.
    bindcode 44         resize shrink width 10 px or 10 ppt
    bindcode 31         resize grow height 10 px or 10 ppt
    bindcode 45         resize shrink height 10 px or 10 ppt
    bindcode 46         resize grow width 10 px or 10 ppt

    # same bindings, but for the arrow keys
    bindsym Left        resize shrink width 10 px or 10 ppt
    bindsym Down        resize grow height 10 px or 10 ppt
    bindsym Up          resize shrink height 10 px or 10 ppt
    bindsym Right       resize grow width 10 px or 10 ppt

    # back to normal: Enter or Escape
    bindcode 9 mode "default"
    bindcode 43 mode "default"
}
bindcode Mod4+43 mode "resize"

mode "resize2" {
    bindcode 31 resize grow top
    bindcode Shift+31 resize shrink top
    bindcode 44 resize grow left
    bindcode Shift+44 resize shrink left
    bindcode 45 resize grow bottom
    bindcode Shift+45 resize shrink bottom
    bindcode 46 resize grow right
    bindcode Shift+46 resize shrink right

    bindsym Up resize grow top
    bindsym Shift+Up resize shrink top
    bindsym Left resize grow left
    bindsym Shift+Left resize shrink left
    bindsym Down resize grow bottom
    bindsym Shift+Down resize shrink bottom
    bindsym Right resize grow right
    bindsym Shift+Right resize shrink right

    bindcode 9 mode "default"
    bindcode 43 mode "default"
}
bindcode Mod4+Shift+43 mode "resize2"

## Quickstart mode
#mode "quickstart" {
#    bindsym f exec firefox
#    bindsym p exec pidgin
#    bindsym t exec thunderbird
#    bindsym c exec clementine


#    bindcode 9 mode "default"
#    bindcode 24 mode "default"
#}
#bindcode Mod4+24 mode "quickstart"

# Mode which deaktivates all bindings
mode "passthrough" {
    bindcode 9 mode "default"
}
bindcode Mod4+9 mode "passthrough"

mode "clementine" {
    bindsym Right exec --no-startup-id clementine -f
    bindsym Left exec --no-startup-id clementine -r
    bindsym space exec --no-startup-id clementine -u
    bindsym Return exec --no-startup-id clementine -p
    bindsym Backspace exec --no-startup-id clementine -s
    bindsym o exec --no-startup-id clementine -o

    bindsym Prior exec --no-startup-id clementine --volume-up
    bindsym Next exec --no-startup-id clementine --volume-down

    bindsym Up exec --no-startup-id clementine --seek-by 10
    bindsym Down exec --no-startup-id clementine --seek-by -10

    bindcode 9 mode "default"
    bindcode 54 mode "default"
}
bindcode Mod4+54 mode "clementine"


# Marks and Gotos
bindcode Mod4+192 mark Fav1
bindcode 192 [con_mark="Fav1"] focus
bindcode Mod4+193 mark Fav2
bindcode 193 [con_mark="Fav2"] focus
bindcode Mod4+194 mark Fav3
bindcode 194 [con_mark="Fav3"] focus
bindcode Mod4+195 mark Fav4
bindcode 195 [con_mark="Fav4"] focus
bindcode Mod4+196 mark Fav5
bindcode 196 [con_mark="Fav5"] focus
bindcode Mod4+180 mark Browser
bindcode 180 [con_mark="Browser"] focus
bindcode Mod4+225 mark Search
bindcode 225 [con_mark="Search"] focus
bindcode Mod4+163 mark Mail
bindcode 163 [con_mark="Mail"] focus
bindcode Mod4+164 mark Star
bindcode 164 [con_mark="Star"] focus
bindcode Mod4+148 mark Calc
bindcode 148 [con_mark="Calc"] focus


# Read 1 character and mark the current window with this character
bindcode Mod4+58 exec --no-startup-id i3-input -F 'mark %s ' -l 1 -P 'Mark: '

# Read 1 character and go to the window with the character
bindcode Mod4+57 exec --no-startup-id i3-input -F '[con_mark="%s"] focus' -l 1 -P 'Goto: '

#Endless workspaces
bindcode Mod4+28 exec --no-startup-id i3-input -F 'workspace %s' -l 4 -P 'Workspace: '
bindcode Mod4+Shift+28 exec --no-startup-id i3-input -F 'move container to workspace %s' -l 4 -P 'Move to workspace: '

bindcode Mod4+53 [class="URxvt"] focus

#bindcode Mod4+Mod1+36 exec i3-input -P 'i3> '
bindcode Mod4+Mod1+36 exec /home/mruf/bin/i3_run -fn "$fonttype" -nb "$darkblue" -nf "$white" -sb "$lightblue" -sf "$black" -p "i3-msg"

# Mod4+Enter starts a new terminal
bindcode Mod4+Shift+36 exec /usr/bin/roxterm
bindcode Mod4+36 exec /usr/bin/urxvtc

# Mod4+l starts screenlock
#bindcode Mod4+26 exec setsid xscreensaver-command -lock
bindcode Mod4+26 exec --no-startup-id setsid xautolock -locknow
#bindcode Mod4+Shift+26 exec --no-startup-id xautolock -toggle

# Mod4+p starts dmenu and launches the selected application
# for now, we don’t have a launcher of our own.
#bindcode Mod4+55 exec /home/mruf/bin/emenu_run -fn "-xos4-terminus-medium-r-normal--12-120-72-72-c-60-*" -nb "#222" -nf "#888" -sb "#13e6f3" -sf "#000" -p ">>>"
bindcode Mod4+55 exec --no-startup-id /home/mruf/bin/emenu_run -fn "$fonttype" -nb "$grey2" -nf "$grey8" -sb "$lightblue" -sf "$black" -p ">>>"

# Shutdown script
bindcode Mod4+Shift+96 exec --no-startup-id /home/mruf/bin/Shutdown.sh

# Start dzen2 (Mod4+Shift+b)
#bind Mod4+Shift+56 exec i3status | dzen2 -xs 1 -w 300 -x 1380 -fn -xos4-terminus-medium-r-normal--12-120-72-72-c-60-* -h 14 -y 1034 -fg "#ffffff" -bg "#285577"
bindcode Mod4+Shift+56 exec dzenout.pl

# Toggle Mute, LowerVol, RaiseVol XF86Audio{Mute,LowerVolume,RaiseVolume} or Mod4+{End,Prior,Next}
bindsym XF86AudioMute exec amixer sset Master toggle
bindcode Mod4+115 exec amixer sset Master toggle
bindsym XF86AudioLowerVolume exec amixer sset Master 1-
bindcode Mod4+117 exec amixer sset Master 1-
bindsym XF86AudioRaiseVolume exec amixer sset Master 1+
bindcode Mod4+112 exec amixer sset Master 1+

# Toggle Mute, LowerVol, RaiseVol Shift+XF86Audio{Mute,LowerVolume,RaiseVolume} or Mod4+{End,Prior,Next}
bindsym Shift+XF86AudioMute exec amixer sset PCM mute
bindcode Mod4+Shift+115 exec amixer sset PCM mute
bindsym Shift+XF86AudioLowerVolume exec amixer sset PCM 1-
bindcode Mod4+Shift+117 exec amixer sset PCM 1-
bindsym Shift+XF86AudioRaiseVolume exec amixer sset PCM 1+
bindcode Mod4+Shift+112 exec amixer sset PCM 1+

# clementine Remote control
bindsym XF86AudioPlay exec clementine -t
bindsym Shift+XF86AudioPlay exec clementine -s
bindsym Control+XF86AudioPlay exec clementine -o
bindsym Control+XF86AudioRaiseVolume exec clementine -f
bindsym Control+XF86AudioLowerVolume exec clementine -r

# switch keyboard layout to neo
bindcode 187 exec /home/mruf/bin/asdf

# switch keyboard layout to de
bindcode 188 exec /home/mruf/bin/uiae

# Mod4+Shift+c kills the current client
bindcode Mod4+Shift+27 kill

# Mod4+Shift+3 reloads i3 configuration
bindcode Mod4+22 reload

# Mod4+Control+Shift+r restarts i3 inplace
bindcode Mod4+Control+22 restart

# Mod4+Control+Shift+Backspace exits i3
#bindcode Mod4+Control+Shift+22 exit
bindcode Mod4+Control+Shift+22 exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit' -f '$fonttype'"

# The IPC interface allows programs like an external workspace bar
# (i3-wsbar) or i3-msg (can be used to "remote-control" i3) to work.
#ipc-socket ~/.i3/ipc.sock

# Workspace assignment to displays
workspace "1: INet" output xinerama-0
workspace "2: Mail" output xinerama-0
workspace "3: Chat" output xinerama-0
workspace "4: Term" output xinerama-0
workspace 5 output xinerama-0
workspace 6 output xinerama-0
workspace 11 output xinerama-0
workspace "12: Virt" output xinerama-0
workspace 13 output xinerama-0
workspace 14 output xinerama-0
workspace 15 output xinerama-0
workspace 16 output xinerama-0
workspace " " output xinerama-0

workspace "7: Edit" output xinerama-1
workspace "8: Dev" output xinerama-1
workspace "9: Sys" output xinerama-1
workspace "10: Term" output xinerama-1
workspace 21 output xinerama-1
workspace 22 output xinerama-1
workspace 17 output xinerama-1
workspace 18 output xinerama-1
workspace 19 output xinerama-1
workspace 20 output xinerama-1
workspace 23 output xinerama-1
workspace 24 output xinerama-1

workspace "32: Dev2" output xinerama-0

#workspace 2 output xinerama-0 Org
#workspace 3 output xinerama-0 Term
#workspace 4 output xinerama-0 Term
#workspace 5 output xinerama-0
#workspace 6 output xinerama-0
#workspace 11 output xinerama-0
#workspace 12 output xinerama-0 VMPlayer
#workspace 13 output xinerama-0
#workspace 14 output xinerama-0
#workspace 15 output xinerama-0
#workspace 16 output xinerama-0

#workspace 7 output xinerama-1 Term
#workspace 8 output xinerama-1 Chat
#workspace 9 output xinerama-1 CSSH
#workspace 10 output xinerama-1 Prog
#workspace 21 output xinerama-1
#workspace 22 output xinerama-1
#workspace 17 output xinerama-1
#workspace 18 output xinerama-1
#workspace 19 output xinerama-1
#workspace 20 output xinerama-1
#workspace 23 output xinerama-1
#workspace 24 output xinerama-1

for_window [class="^rdesktop$"] floating enable
for_window [class="^xfreerdp"] floating enable
for_window [title="^Event Tester$"] floating enable
for_window [class="jetbrains-pycharm" title="(Find|Changes)"] floating disable

# Client assignments to workspaces
#assign "DialogBox" ~
assign [class="^Firefox$"] 1: INet
assign [class="^Thunderbird$"] 2: Mail
assign [class="^Pidgin$"] 3: Chat
#assign "XTerm/CSSH" 9
#assign "Cssh/CSSH" 9
assign [class="^Clementine$"] 16
assign [class="^Vmware$"] 12: Virt
assign [class="jetbrains-pycharm" title="(Find|Changes)"] 32: Dev2
assign [class="jetbrains-pycharm"] 8: Dev



# left bar
bar {
    tray_output xinerama-0
    output xinerama-0
    status_command i3status --config ~/.i3status.clock.conf
    colors {
        background $grey2
        statusline $grey8
        focused_workspace $black $lightblue
        inactive_workspace $grey8 $grey2
        active_workspace $white $darkblue
        urgent_workspace $white $lightred
    }
}

# right bar
bar {
    tray_output None
    output xinerama-1
    status_command i3status
    colors {
        background $grey2
        statusline $grey8
        focused_workspace $black $lightblue
        inactive_workspace $grey8 $grey2
        active_workspace $white $darkblue
        urgent_workspace $white $lightred
    }
}


exec --no-startup-id nitrogen --restore
exec --no-startup-id ~/bin/start_xautolock.sh
exec --no-startup-id xmodmap ~/neo_mmk_ic.xmodmap && xset -r 135
exec --no-startup-id urxvtd -q -f -o
#exec i3status | dzen2 -xs 1 -w 300 -x 1380 -fn -xos4-terminus-medium-r-normal--12-120-72-72-c-60-* -h 14 -y 1034 -fg "#ffffff" -bg "#285577"
#exec dzenout.pl
#exec trayer --height 16 --tint 0x000000 --transparent true --alpha 0

# XXX: Automatically added a call to i3bar to provide a workspace bar
#exec sleep 1; i3status | i3bar -d -f "-xos4-terminus-medium-r-normal--12-120-72-72-c-60-iso10646-1" --color-focus-ws-bg "#285577" --color-focus-ws-fg "#ffffff" --color-active-ws-bg "#5f676a" --color-active-ws-fg "#ffffff" --color-urgent-ws-bg "#900000" --color-urgent-ws-fg "#ffffff" --color-inactive-ws-bg "$grey2" --color-inactive-ws-fg "$grey8" --color-bar-bg "$grey2" --color-bar-fg "$grey8"
